<!DOCTYPE html>
<html lang="fi">
<head>

    <title>Jyrin toteutusmalli</title> 
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- linkki CSS-tiedostoon -->
    <link href="style.css" rel="stylesheet" type="text/css">

</head>


<body>

    <h1>Toteutus</h1> <br>
    <div id="vastaus"></div>
    <div id="osallistujat_"></div>

<script>

//funktio kirjoittaa haetun datan halutussa muodassa HTML-sivulle 
        function kerro(data){
        var result = "";
        var teksti = ""; 
        teksti = "<h2>" + data.toteutuksen_nimi + "</h2>" + 
        "<p>" + data.osallistujien_lukumaara + "</p>" ;
        








        console.log[result] + data.osallistujat

        for (i in data.osallistujat) {
        result += data.osallistujat[i]

        
        } 



        

        document.getElementById("vastaus").innerHTML = teksti;
        document.getElementById("osallistujat_").innerHTML = result; 
    
        }

       

    fetch("https://jype75.github.io/oma.json")    

// Muunnetaan vastaus JSON-muotoon  
    .then(function (response) {
    return response.json();
}) 

//Käsitellään muunnettu (eli JSON-muotoinen) vastaus 
// Kutsutaan funktiota kerro() ja välitetään sille json-vastaus


    .then(function (responseJson) {
    kerro(responseJson);  	}) 

// Jos tuli jokin virhe 

    .catch(function (error) { 
    document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
    
    


})



</script>

</body>
</html>    